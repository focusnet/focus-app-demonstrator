<!-- 
 * Machine order status
 * 
 * LIGNA scenario: step 4
 * 
 * Display description:
 * 		- Logging volume: planned, current, with progress bar
 * 		- Work schedule: planned, current, with progress bar
 * 		- deadline
 * 		- Completion status: finished earlier, just in time, finished after deadline
 * 
 * Input variables:
 * 		machine[mid].logging_volume.planned
 *		machine[mid].logging_volume.current
 *		machine[mid].working_time.planned
 *		machine[mid].working_time.current
 *		machine[mid].target_deadline
 *		machine[mid].completion_status
 * 
 * @@source_header
 * 
 */ -->
<div class="with-padding order-status" ng-controller="OrderStatusController as osCtrl">

	<div class="machine-status">
		<h2>Active order control</h2>
		<div class="status" ng-bind="osCtrl.data.completion_status"
				ng-class="{
					ontime: osCtrl.data.status == 'ONTIME',
					early: osCtrl.data.status == 'EARLY',
					late: osCtrl.data.status == 'LATE'
				}"> 
		</div>
		<div class="target">
			<span class="label">Planned target deadline:</span>
			<span ng-bind="osCtrl.dataSvc.startDateTime.getTime() + osCtrl.data.working_time.planned * 1000 * 60 * 60 | date:'dd.MM.yyyy HH:mm'"></span>
		</div>
	</div>

	<div class="data">
		<div class="col-1">		
			<h2>General information</h2>
			<ul>
				<li><span class="label">Contractor:</span> <span ng-bind="moCtrl.data.contractor"></span></li>
				<li><span class="label">Planned logging volume:</span> <span ng-bind="moCtrl.data.logging_volume.planned"></span> m3</li>
				<li><span class="label">Planned working time:</span> <span ng-bind="moCtrl.data.working_time.planned"></span> hours</li>
				<li><span class="label">Target deadline:</span> 
					<span ng-bind="moCtrl.dataSvc.startDateTime.getTime() + moCtrl.data.working_time.planned * 1000 * 60 * 60 | date:'dd.MM.yyyy HH:mm'"></span>
				</li>
			</ul>
			
		</div>
		
		<div class="col-2">
			<h2>More information and tools</h2>
			<ul>
				<li><a ng-href="#/machine/{{moCtrl.currentMachineId}}/order-status"><i class="fa fa-arrow-right"></i> Current order status</a></li>
				<li><a ng-href="#/stand/FIXME/information"><i class="fa fa-arrow-right"></i> Stand information</a></li>
				<li><a ng-href="#/stand/FIXME/map"><i class="fa fa-arrow-right"></i> Stand geographical overview</a></li>
				<li><a ng-href="#/machine/{{moCtrl.currentMachineId}}/silvicultural-planning"><i class="fa fa-arrow-right"></i> Silvicultural operation plan</a></li>
				<li><a ng-href="#/machine/{{moCtrl.currentMachineId}}/timecontrol"><i class="fa fa-arrow-right"></i> TimeControl</a></li>
				<li><a ng-href="#/machine/{{moCtrl.currentMachineId}}/technical-data"><i class="fa fa-arrow-right"></i> Machine data</a></li>
			</ul>
		</div>
	</div>
	
</div>
 
 <!-- 
<div class="orderStatus" ng-controller="orderStatusController as orderStatusCtrl">
	<div class="widget-container">
		<div class="logging">
			<a>Logging Volume:</a> 
			<div class="logging-sub">
				<table border="1" style="width: 100%">
				   <tr>
				       <th ALIGN="LEFT" style="width: 20%" colspan="1"><a>Volume</a></th>
				       <th ALIGN="LEFT" style="width: 20%;" colspan="1"><a>Planned</a></th>
				       <th ALIGN="LEFT" style="width: 60%;" colspan="2"><a>Current</a></th>
				   </tr>
				   <tr>
				   	   <th ALIGN="LEFT" ><a>1848 P.</a></th> 
				       <th ALIGN="LEFT" ><a>1002 P.</a></th>
				       <th ALIGN="LEFT" ><a>839</a></th>
				       <th ALIGN="LEFT" ><a>Progress:</a>
				       <div class="col-sm-4"><progressbar value="55"></progressbar></div> 
				       </th>
				   </tr>
				</table>
			</div>
		</div>
		<div class="schedule">
			<a>Work Schedule:</a> 
			<div class="schedule-sub">
				<table border="1" style="width: 100%">
				   <tr>
				       <th ALIGN="LEFT" style="width: 20%" colspan="1"><a>Volume</a></th>
				       <th ALIGN="LEFT" style="width: 20%;" colspan="1"><a>Planned</a></th>
				       <th ALIGN="LEFT" style="width: 60%;" colspan="2"><a>Current</a></th>
				   </tr>
				   <tr>
				   	   <th ALIGN="LEFT" ><a>848 P.</a></th> 
				       <th ALIGN="LEFT" ><a>789 P.</a></th>
				       <th ALIGN="LEFT" ><a>391</a></th>
				       <th ALIGN="LEFT" ><a>Progress:</a>
				       <div class="col-sm-4"><progressbar value="55"></progressbar></div> 
				       </th>
				   </tr>
				</table>
			</div>
		</div>
		<div class="deadline">
			<a>Deadline:</a> 
			<div class="deadline-sub">
				<table border="1" style="width: 100%">
				   <tr>
				       <th ALIGN="LEFT" style="width: 20%" colspan="1"><a>Time</a></th>
				       <th ALIGN="LEFT" style="width: 20%;" colspan="1"><a>Planned</a></th>
				       <th ALIGN="LEFT" style="width: 60%;" colspan="2"><a>Current</a></th>
				   </tr>
				   <tr>
				   	   <th ALIGN="LEFT" ><a></a></th> 
				       <th ALIGN="LEFT" ><a>17:45</a></th>
				       <th ALIGN="LEFT" ><a>12:33</a></th>
				       </th>
				   </tr>
				</table>
			</div>
		</div>
		<div class="deadline">
			<a>Completion status:</a> 
			<div class="deadline-sub">
				<a><font color="green">Just in Timer</font></a>
			</div>
		</div>
	</div>
</div>
-->
<!-- <body>
<div id="example" ng-app="KendoDemos">
    <div class="demo-section k-content" ng-controller="MyCtrl" style="width: 350px;">
        <h4>{{status}}</h4>
        <div kendo-progress-bar="progressBar" k-min="0" k-max="100" ng-model="progress"></div>
    </div>
</div> -->